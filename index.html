<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FATHWellnessBot - Mood Detector</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background-color: #f0f8ff;
      padding: 2rem;
    }
    textarea {
      width: 90%;
      height: 100px;
      font-size: 16px;
    }
    select, button {
      font-size: 16px;
      margin-top: 10px;
    }
    .response {
      margin-top: 20px;
      font-weight: bold;
    }
    #donateBtn {
      margin-top: 30px;
      background-color: #ffcc00;
      padding: 10px 20px;
      font-size: 18px;
      border: none;
      cursor: pointer;
      border-radius: 5px;
    }
    #donateBtn img {
      height: 20px;
      vertical-align: middle;
      margin-right: 8px;
    }
  </style>
</head>
<body>
  <h1>FATHWellnessBot ü§ñ</h1>
  <p>Type your feelings or use the mic:</p>

  <textarea id="userInput" placeholder="I feel lost, I‚Äôm anxious, I‚Äôm excited..."></textarea><br/>

  <select id="language">
    <option value="en">English</option>
    <option value="ur">Urdu</option>
    <option value="hi">Hindi</option>
  </select>

  <br/><br/>
  <button onclick="detectMood()">Check Mood</button>
  <button onclick="startVoice()">üéôÔ∏è Speak</button>

  <div class="response" id="moodResponse"></div>
  <div class="response" id="tipResponse"></div>

  <button id="donateBtn" onclick="window.open('https://easypaisa.com.pk/')">
    <img src="https://seeklogo.com/images/E/easypaisa-logo-64DBF83F70-seeklogo.com.png" alt="EasyPaisa Logo" />
    Support on EasyPaisa
  </button>

  <script>
    const moodData = {
      happy: {
        phrases: ["i am happy", "feeling great", "so excited", "i‚Äôm joyful"],
        tip: "Stay positive and keep spreading smiles!"
      },
      sad: {
        phrases: ["i feel sad", "i‚Äôm down", "feeling low", "disappointed"],
        tip: "It‚Äôs okay to be sad. Talk to a friend or write your feelings down."
      },
      anxious: {
        phrases: ["i am anxious", "nervous", "worried", "stressed", "i feel pressure"],
        tip: "Try deep breathing and remind yourself that you're doing your best."
      },
      depressed: {
        phrases: ["i feel like nothing matters", "i am depressed", "everything is dark", "i give up"],
        tip: "Please consider talking to a therapist or support group. You're not alone."
      },
      confused: {
        phrases: ["i‚Äôm confused", "not sure what to do", "i‚Äôm lost", "don't know"],
        tip: "Take a break. Re-evaluate your priorities. It will clear up."
      },
      love: {
        phrases: ["i‚Äôm in love", "heart is full", "i like someone", "romantic"],
        tip: "Enjoy the feeling, but don‚Äôt lose yourself. Balance emotions with logic."
      },
      burnout: {
        phrases: ["i‚Äôm exhausted", "burned out", "no energy", "mentally tired"],
        tip: "Take a day off. Rest isn‚Äôt a waste of time, it‚Äôs a need."
      }
    };

    function detectMood() {
      const input = document.getElementById('userInput').value.toLowerCase();
      let detected = "neutral";
      let tip = "Try to express a bit more about how you're feeling.";

      for (const mood in moodData) {
        if (moodData[mood].phrases.some(phrase => input.includes(phrase))) {
          detected = mood.charAt(0).toUpperCase() + mood.slice(1);
          tip = moodData[mood].tip;
          break;
        }
      }

      document.getElementById("moodResponse").innerText = `Mood: ${detected}`;
      document.getElementById("tipResponse").innerText = `Advice: ${tip}`;
    }

    function startVoice() {
      const recognition = new(window.SpeechRecognition || window.webkitSpeechRecognition)();
      recognition.lang = document.getElementById('language').value === 'ur' ? 'ur-PK' : 'en-US';
      recognition.start();

      recognition.onresult = function(event) {
        document.getElementById("userInput").value = event.results[0][0].transcript;
        detectMood();
      };
    }
  </script>
</body>
</html>
